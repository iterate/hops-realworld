import{S as be,i as Ee,s as we,F as Ie,a as U,k as c,q as B,J as ke,h as f,c as q,l as d,m as _,r as G,K as ve,n as s,C as y,b as z,D as a,u as $,G as De,H as Ve,I as Fe,f as Se,t as Ae,E as Le,B as ge,L as Pe,M as Ue}from"../../../../chunks/index-8e1f88f9.js";import{e as qe}from"../../../../chunks/forms-03f36850.js";import{p as Ce}from"../../../../chunks/stores-5e05607c.js";function me(i){let e,o=i[0].profile.bio+"",n;return{c(){e=c("p"),n=B(o)},l(r){e=d(r,"P",{});var l=_(e);n=G(l,o),l.forEach(f)},m(r,l){z(r,e,l),a(e,n)},p(r,l){l&1&&o!==(o=r[0].profile.bio+"")&&$(n,o)},d(r){r&&f(e)}}}function Te(i){let e,o;return{c(){e=c("a"),o=B("Sign in to follow"),this.h()},l(n){e=d(n,"A",{href:!0});var r=_(e);o=G(r,"Sign in to follow"),r.forEach(f),this.h()},h(){s(e,"href","/login")},m(n,r){z(n,e,r),a(e,o)},p:ge,d(n){n&&f(e)}}}function Me(i){let e,o,n,r,l,E,u,h=i[0].profile.following?"Unfollow":"Follow",v,V,F=i[0].profile.username+"",D,A,C,H,N;return{c(){e=c("form"),o=c("input"),r=U(),l=c("button"),E=c("i"),u=U(),v=B(h),V=U(),D=B(F),this.h()},l(m){e=d(m,"FORM",{method:!0,action:!0});var p=_(e);o=d(p,"INPUT",{type:!0,name:!0}),r=q(p),l=d(p,"BUTTON",{class:!0});var I=_(l);E=d(I,"I",{class:!0}),_(E).forEach(f),u=q(I),v=G(I,h),V=q(I),D=G(I,F),I.forEach(f),p.forEach(f),this.h()},h(){o.hidden=!0,s(o,"type","checkbox"),s(o,"name","following"),o.checked=n=i[0].profile.following,s(E,"class","ion-plus-round"),s(l,"class","btn btn-sm action-btn"),y(l,"btn-secondary",i[0].profile.following),y(l,"btn-outline-secondary",!i[0].profile.following),s(e,"method","POST"),s(e,"action",A="/profile/@"+i[0].profile.username+"?/toggleFollow")},m(m,p){z(m,e,p),a(e,o),a(e,r),a(e,l),a(l,E),a(l,u),a(l,v),a(l,V),a(l,D),H||(N=Pe(C=qe.call(null,e,i[5])),H=!0)},p(m,p){p&1&&n!==(n=m[0].profile.following)&&(o.checked=n),p&1&&h!==(h=m[0].profile.following?"Unfollow":"Follow")&&$(v,h),p&1&&F!==(F=m[0].profile.username+"")&&$(D,F),p&1&&y(l,"btn-secondary",m[0].profile.following),p&1&&y(l,"btn-outline-secondary",!m[0].profile.following),p&1&&A!==(A="/profile/@"+m[0].profile.username+"?/toggleFollow")&&s(e,"action",A),C&&Ue(C.update)&&p&1&&C.update.call(null,m[5])},d(m){m&&f(e),H=!1,N()}}}function Oe(i){let e,o,n;return{c(){e=c("a"),o=c("i"),n=B(`
							Edit Profile Settings`),this.h()},l(r){e=d(r,"A",{href:!0,class:!0});var l=_(e);o=d(l,"I",{class:!0}),_(o).forEach(f),n=G(l,`
							Edit Profile Settings`),l.forEach(f),this.h()},h(){s(o,"class","ion-gear-a"),s(e,"href","/settings"),s(e,"class","btn btn-sm btn-outline-secondary action-btn")},m(r,l){z(r,e,l),a(e,o),a(e,n)},p:ge,d(r){r&&f(e)}}}function ye(i){let e,o,n,r,l,E,u,h,v,V,F,D,A=i[0].profile.username+"",C,H,N,m,p,I,T,K,M,R,L,x,Q,ee,j,P,le,W,te,w;document.title=e=i[0].profile.username+" • Conduit";let b=i[0].profile.bio&&me(i);function oe(t,g){var J;return t[0].profile.username===((J=t[0].user)==null?void 0:J.username)?Oe:t[0].user?Me:Te}let X=oe(i),S=X(i);const ae=i[4].default,k=Ie(ae,i,i[3],null);return{c(){o=U(),n=c("div"),r=c("div"),l=c("div"),E=c("div"),u=c("div"),h=c("img"),F=U(),D=c("h4"),C=B(A),H=U(),b&&b.c(),N=U(),S.c(),m=U(),p=c("div"),I=c("div"),T=c("div"),K=c("div"),M=c("ul"),R=c("li"),L=c("a"),x=B("Articles"),ee=U(),j=c("li"),P=c("a"),le=B("Favorites"),te=U(),k&&k.c(),this.h()},l(t){ke("svelte-10ya2rh",document.head).forEach(f),o=q(t),n=d(t,"DIV",{class:!0});var J=_(n);r=d(J,"DIV",{class:!0});var se=_(r);l=d(se,"DIV",{class:!0});var ie=_(l);E=d(ie,"DIV",{class:!0});var re=_(E);u=d(re,"DIV",{class:!0});var O=_(u);h=d(O,"IMG",{src:!0,class:!0,alt:!0}),F=q(O),D=d(O,"H4",{});var ne=_(D);C=G(ne,A),ne.forEach(f),H=q(O),b&&b.l(O),N=q(O),S.l(O),O.forEach(f),re.forEach(f),ie.forEach(f),se.forEach(f),m=q(J),p=d(J,"DIV",{class:!0});var fe=_(p);I=d(fe,"DIV",{class:!0});var ue=_(I);T=d(ue,"DIV",{class:!0});var Y=_(T);K=d(Y,"DIV",{class:!0});var ce=_(K);M=d(ce,"UL",{class:!0});var Z=_(M);R=d(Z,"LI",{class:!0});var de=_(R);L=d(de,"A",{href:!0,class:!0});var _e=_(L);x=G(_e,"Articles"),_e.forEach(f),de.forEach(f),ee=q(Z),j=d(Z,"LI",{class:!0});var pe=_(j);P=d(pe,"A",{href:!0,class:!0});var he=_(P);le=G(he,"Favorites"),he.forEach(f),pe.forEach(f),Z.forEach(f),ce.forEach(f),te=q(Y),k&&k.l(Y),Y.forEach(f),ue.forEach(f),fe.forEach(f),J.forEach(f),this.h()},h(){ve(h.src,v=i[0].profile.image)||s(h,"src",v),s(h,"class","user-img"),s(h,"alt",V=i[0].profile.username),s(u,"class","col-xs-12 col-md-10 offset-md-1"),s(E,"class","row"),s(l,"class","container"),s(r,"class","user-info"),s(L,"href",Q="/profile/@"+i[0].profile.username),s(L,"class","nav-link"),y(L,"active",!i[1]),s(R,"class","nav-item"),s(P,"href",W="/profile/@"+i[0].profile.username+"/favorites"),s(P,"class","nav-link"),y(P,"active",i[1]),s(j,"class","nav-item"),s(M,"class","nav nav-pills outline-active"),s(K,"class","articles-toggle"),s(T,"class","col-xs-12 col-md-10 offset-md-1"),s(I,"class","row"),s(p,"class","container"),s(n,"class","profile-page")},m(t,g){z(t,o,g),z(t,n,g),a(n,r),a(r,l),a(l,E),a(E,u),a(u,h),a(u,F),a(u,D),a(D,C),a(u,H),b&&b.m(u,null),a(u,N),S.m(u,null),a(n,m),a(n,p),a(p,I),a(I,T),a(T,K),a(K,M),a(M,R),a(R,L),a(L,x),a(M,ee),a(M,j),a(j,P),a(P,le),a(T,te),k&&k.m(T,null),w=!0},p(t,[g]){(!w||g&1)&&e!==(e=t[0].profile.username+" • Conduit")&&(document.title=e),(!w||g&1&&!ve(h.src,v=t[0].profile.image))&&s(h,"src",v),(!w||g&1&&V!==(V=t[0].profile.username))&&s(h,"alt",V),(!w||g&1)&&A!==(A=t[0].profile.username+"")&&$(C,A),t[0].profile.bio?b?b.p(t,g):(b=me(t),b.c(),b.m(u,N)):b&&(b.d(1),b=null),X===(X=oe(t))&&S?S.p(t,g):(S.d(1),S=X(t),S&&(S.c(),S.m(u,null))),(!w||g&1&&Q!==(Q="/profile/@"+t[0].profile.username))&&s(L,"href",Q),(!w||g&2)&&y(L,"active",!t[1]),(!w||g&1&&W!==(W="/profile/@"+t[0].profile.username+"/favorites"))&&s(P,"href",W),(!w||g&2)&&y(P,"active",t[1]),k&&k.p&&(!w||g&8)&&De(k,ae,t,t[3],w?Fe(ae,t[3],g,null):Ve(t[3]),null)},i(t){w||(Se(k,t),w=!0)},o(t){Ae(k,t),w=!1},d(t){t&&f(o),t&&f(n),b&&b.d(),S.d(),k&&k.d(t)}}}function Be(i,e,o){let n,r;Le(i,Ce,v=>o(2,r=v));let{$$slots:l={},$$scope:E}=e,{data:u}=e;const h=({form:v})=>{o(0,u.profile.following=!u.profile.following,u);const V=v.querySelector("button");return V.disabled=!0,({result:F,update:D})=>{V.disabled=!1,F.type==="error"&&D()}};return i.$$set=v=>{"data"in v&&o(0,u=v.data),"$$scope"in v&&o(3,E=v.$$scope)},i.$$.update=()=>{i.$$.dirty&4&&o(1,n=r.route.id==="/profile/@[user]/favorites")},[u,n,r,E,l,h]}class Je extends be{constructor(e){super(),Ee(this,e,Be,ye,we,{data:0})}}export{Je as default};
