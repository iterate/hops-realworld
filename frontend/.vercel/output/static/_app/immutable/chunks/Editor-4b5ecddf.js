import{M as gt,S as vt,i as bt,s as Et,k as v,w as yt,a as O,q as ht,l as b,m as w,x as kt,c as P,h as k,r as _t,n,b as j,D as i,y as Lt,Q as mt,L as Tt,g as It,O as wt,d as Dt,f as rt,t as nt,z as St,N as Nt,R as Ot,T as Pt,u as Ut,U as Ft,V as Rt,W as Vt,X as qt,Y as ot,Z as At,B as Mt}from"./index-8e1f88f9.js";import{e as $t}from"./forms-03f36850.js";import{L as xt}from"./ListErrors-3251bb68.js";function pt(o){const e=o-1;return e*e*e+1}function it(o,{delay:e=0,duration:t=400,easing:a=pt,start:c=0,opacity:_=0}={}){const E=getComputedStyle(o),l=+E.opacity,y=E.transform==="none"?"":E.transform,u=1-c,D=l*(1-_);return{delay:e,duration:t,easing:a,css:(N,m)=>`
			transform: ${y} scale(${1-u*m});
			opacity: ${l-D*m}
		`}}function Bt(o,{from:e,to:t},a={}){const c=getComputedStyle(o),_=c.transform==="none"?"":c.transform,[E,l]=c.transformOrigin.split(" ").map(parseFloat),y=e.left+e.width*E/t.width-(t.left+E),u=e.top+e.height*l/t.height-(t.top+l),{delay:D=0,duration:N=p=>Math.sqrt(p)*120,easing:m=pt}=a;return{delay:D,duration:gt(N)?N(Math.sqrt(y*y+u*u)):N,easing:m,css:(p,S)=>{const U=S*y,h=S*u,f=p+S*e.width/t.width,A=p+S*e.height/t.height;return`transform: ${_} translate(${U}px, ${h}px) scale(${f}, ${A});`}}}function ct(o,e,t){const a=o.slice();return a[4]=e[t],a}function ut(o,e,t){const a=o.slice();return a[4]=e[t],a[8]=t,a}function ft(o,e){let t,a,c,_=e[4]+"",E,l,y,u,D,N=Mt,m,p,S;function U(){return e[3](e[8])}return{key:o,first:null,c(){t=v("button"),a=v("i"),c=O(),E=ht(_),l=O(),this.h()},l(h){t=b(h,"BUTTON",{class:!0,"aria-label":!0});var f=w(t);a=b(f,"I",{class:!0}),w(a).forEach(k),c=P(f),E=_t(f,_),l=P(f),f.forEach(k),this.h()},h(){n(a,"class","ion-close-round"),n(t,"class","tag-default tag-pill svelte-16iqxek"),n(t,"aria-label",y="Remove "+e[4]+" tag"),this.first=t},m(h,f){j(h,t,f),i(t,a),i(t,c),i(t,E),i(t,l),m=!0,p||(S=mt(t,"click",Pt(U)),p=!0)},p(h,f){e=h,(!m||f&1)&&_!==(_=e[4]+"")&&Ut(E,_),(!m||f&1&&y!==(y="Remove "+e[4]+" tag"))&&n(t,"aria-label",y)},r(){D=t.getBoundingClientRect()},f(){Ft(t),N(),Rt(t,D)},a(){N(),N=Vt(t,D,Bt,{duration:200})},i(h){m||(h&&qt(()=>{u||(u=ot(t,it,{duration:200},!0)),u.run(1)}),m=!0)},o(h){h&&(u||(u=ot(t,it,{duration:200},!1)),u.run(0)),m=!1},d(h){h&&k(t),h&&u&&u.end(),p=!1,S()}}}function dt(o){let e,t;return{c(){e=v("input"),this.h()},l(a){e=b(a,"INPUT",{name:!0}),this.h()},h(){e.hidden=!0,n(e,"name","tag"),e.value=t=o[4]},m(a,c){j(a,e,c)},p(a,c){c&1&&t!==(t=a[4])&&e.value!==t&&(e.value=t)},d(a){a&&k(e)}}}function Ct(o){let e,t,a,c,_,E,l,y,u,D,N,m,p,S,U,h,f,A,X,M,$,z,F,g=[],G=new Map,Q,W,x,Y,R,Z,H;_=new xt({props:{errors:o[1]}});let C=o[0].tagList;const J=s=>s[4];for(let s=0;s<C.length;s+=1){let r=ut(o,C,s),T=J(r);G.set(T,g[s]=ft(T,r))}let B=o[0].tagList,L=[];for(let s=0;s<B.length;s+=1)L[s]=dt(ct(o,B,s));return{c(){e=v("div"),t=v("div"),a=v("div"),c=v("div"),yt(_.$$.fragment),E=O(),l=v("form"),y=v("fieldset"),u=v("input"),N=O(),m=v("fieldset"),p=v("input"),U=O(),h=v("fieldset"),f=v("textarea"),X=O(),M=v("fieldset"),$=v("input"),z=O(),F=v("div");for(let s=0;s<g.length;s+=1)g[s].c();Q=O();for(let s=0;s<L.length;s+=1)L[s].c();W=O(),x=v("button"),Y=ht("Publish Article"),this.h()},l(s){e=b(s,"DIV",{class:!0});var r=w(e);t=b(r,"DIV",{class:!0});var T=w(t);a=b(T,"DIV",{class:!0});var d=w(a);c=b(d,"DIV",{class:!0});var V=w(c);kt(_.$$.fragment,V),E=P(V),l=b(V,"FORM",{method:!0});var I=w(l);y=b(I,"FIELDSET",{class:!0});var K=w(y);u=b(K,"INPUT",{name:!0,class:!0,placeholder:!0}),K.forEach(k),N=P(I),m=b(I,"FIELDSET",{class:!0});var tt=w(m);p=b(tt,"INPUT",{name:!0,class:!0,placeholder:!0}),tt.forEach(k),U=P(I),h=b(I,"FIELDSET",{class:!0});var et=w(h);f=b(et,"TEXTAREA",{name:!0,class:!0,rows:!0,placeholder:!0}),w(f).forEach(k),et.forEach(k),X=P(I),M=b(I,"FIELDSET",{class:!0});var lt=w(M);$=b(lt,"INPUT",{class:!0,placeholder:!0}),lt.forEach(k),z=P(I),F=b(I,"DIV",{class:!0});var at=w(F);for(let q=0;q<g.length;q+=1)g[q].l(at);at.forEach(k),Q=P(I);for(let q=0;q<L.length;q+=1)L[q].l(I);W=P(I),x=b(I,"BUTTON",{class:!0});var st=w(x);Y=_t(st,"Publish Article"),st.forEach(k),I.forEach(k),V.forEach(k),d.forEach(k),T.forEach(k),r.forEach(k),this.h()},h(){n(u,"name","title"),n(u,"class","form-control form-control-lg"),n(u,"placeholder","Article Title"),u.value=D=o[0].title,n(y,"class","form-group"),n(p,"name","description"),n(p,"class","form-control"),n(p,"placeholder","What's this article about?"),p.value=S=o[0].description,n(m,"class","form-group"),n(f,"name","body"),n(f,"class","form-control"),n(f,"rows","8"),n(f,"placeholder","Write your article (in markdown)"),f.value=A=o[0].body,n(h,"class","form-group"),n($,"class","form-control"),n($,"placeholder","Enter tags"),n(M,"class","form-group"),n(F,"class","tag-list"),n(x,"class","btn btn-lg pull-xs-right btn-primary"),n(l,"method","POST"),n(c,"class","col-md-10 offset-md-1 col-xs-12"),n(a,"class","row"),n(t,"class","container page"),n(e,"class","editor-page")},m(s,r){j(s,e,r),i(e,t),i(t,a),i(a,c),Lt(_,c,null),i(c,E),i(c,l),i(l,y),i(y,u),i(l,N),i(l,m),i(m,p),i(l,U),i(l,h),i(h,f),i(l,X),i(l,M),i(M,$),i(l,z),i(l,F);for(let T=0;T<g.length;T+=1)g[T].m(F,null);i(l,Q);for(let T=0;T<L.length;T+=1)L[T].m(l,null);i(l,W),i(l,x),i(x,Y),R=!0,Z||(H=[mt($,"keydown",o[2]),Tt($t.call(null,l))],Z=!0)},p(s,[r]){const T={};if(r&2&&(T.errors=s[1]),_.$set(T),(!R||r&1&&D!==(D=s[0].title)&&u.value!==D)&&(u.value=D),(!R||r&1&&S!==(S=s[0].description)&&p.value!==S)&&(p.value=S),(!R||r&1&&A!==(A=s[0].body))&&(f.value=A),r&1){C=s[0].tagList,It();for(let d=0;d<g.length;d+=1)g[d].r();g=wt(g,r,J,1,s,C,G,F,At,ft,null,ut);for(let d=0;d<g.length;d+=1)g[d].a();Dt()}if(r&1){B=s[0].tagList;let d;for(d=0;d<B.length;d+=1){const V=ct(s,B,d);L[d]?L[d].p(V,r):(L[d]=dt(V),L[d].c(),L[d].m(l,W))}for(;d<L.length;d+=1)L[d].d(1);L.length=B.length}},i(s){if(!R){rt(_.$$.fragment,s);for(let r=0;r<C.length;r+=1)rt(g[r]);R=!0}},o(s){nt(_.$$.fragment,s);for(let r=0;r<g.length;r+=1)nt(g[r]);R=!1},d(s){s&&k(e),St(_);for(let r=0;r<g.length;r+=1)g[r].d();Nt(L,s),Z=!1,Ot(H)}}}function Wt(o,e,t){let{article:a}=e,{errors:c}=e;const _=l=>{l.key==="Enter"&&(l.preventDefault(),a.tagList.includes(l.target.value)||t(0,a.tagList=[...a.tagList,l.target.value],a),l.target.value="")},E=l=>{t(0,a.tagList=[...a.tagList.slice(0,l),...a.tagList.slice(l+1)],a)};return o.$$set=l=>{"article"in l&&t(0,a=l.article),"errors"in l&&t(1,c=l.errors)},[a,c,_,E]}class Yt extends vt{constructor(e){super(),bt(this,e,Wt,Ct,Et,{article:0,errors:1})}}export{Yt as E};
